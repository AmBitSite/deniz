!function(){var lang={en:{x:"Close",nex:"Next month",pre:"Previous month",clear:"Clear",m:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],mo:["January","February","March","April","May","June","July","August","September","October","November","December"],w:"Mo</td><td>Tu</td><td>We</td><td>Th</td><td>Fr</td><td>Sa</td><td>Su"},ru:{x:"Закрыть",nex:"Следующий месяц",pre:"Предыдущий месяц",clear:"Очистить",m:["Янв","Фев","Мрт","Апр","Май","Июн","Июл","Авг","Сен","Окт","Нбр","Дек"],mo:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],w:"Пн</td><td>Вт</td><td>Ср</td><td>Чт</td><td>Пт</td><td>Сб</td><td>Вс"}},def={lang:"ru",id:"",class:"xcalend",delim:".",order:0,o:{value:""},year:-1,month:-1,dat:-1,day:-1,dop:"",autoOn:1,autoOff:1,now:1,set0:0,x:1,hide:1,to:"",fn:""};function iss(a){return null!=a}function Nod(a){return"string"==typeof a&&(a=document.getElementById(a)),a}function Del(a){(a=Nod(a))&&("function"==typeof a.remove?a.remove():a.parentNode.removeChild(a))}function HTM(a,t,e){iss(e)||(e="beforeend"),Nod(a).insertAdjacentHTML(e,t)}function Eve(a,t,e){a.addEventListener?a.addEventListener(t,e,!1):a.attachEvent?a.attachEvent("on"+t,e):a["on"+t]=e}function scrol(a){var t={X:"scrollLeft",Y:"scrollTop"};return void 0!==a&&a in t||(a="Y"),window["page"+a+"Offset"]||document.documentElement[t[a]]||document.body[t[a]]}window.xCal=function(ob,delim,order){var a={};for(var key in def)a[key]=def[key];if("object"==typeof delim)for(var key in delim)a[key]=delim[key];else iss(delim)&&(a.delim=delim),iss(order)&&(a.order=order);if(""===a.id&&(a.id=a.class),"object"!=typeof ob){if((void 0===ob||0==ob||1==ob)&&Nod(a.id))return 1==a.hide&&("string"!=typeof delim?Nod(a.id).style.display="none":Nod(delim).style.display="none"),!1;if(2==ob||"now"===ob){var D=new Date,d=D.getDate(),m=D.getMonth()+1,y=D.getFullYear();return d<10&&(d="0"+d),m<10&&(m="0"+m),1==a.order?y+a.delim+m+a.delim+d:2==a.order?m+a.delim+d+a.delim+y:d+a.delim+m+a.delim+y}}if(a.o=Nod(ob),a.f=function(){var m=a.month+1,d=a.dat,y=a.year;a.sdat=a.dat,a.smonth=a.month,a.syear=a.year,1==a.order?(d=y,y=a.dat):2==a.order&&(d=m,m=a.dat),y<10&&(y="0"+y),m<10&&(m="0"+m),d<10&&(d="0"+d),d+=a.delim+m+a.delim+y,""!==a.dop&&(d+=" "+a.dop),a.o&&(a.o.value=xCal.value=d),1==a.hide&&(Nod(a.id).style.display="none"),"function"==typeof a.fn?a.fn(d,a):"string"==typeof a.fn&&""!==a.fn&&eval(a.fn+"('"+d+"');")},void 0===a.o)return!1;a=xCal.gVal(a),a=xCal.gDat(a),Nod(a.id)?Nod(a.id).style.display="":(""==a.to?a.to=document.body:a.to=Nod(a.to),HTM(a.to,'<table id="'+a.id+'" class="'+a.class+'"><thead></thead><tbody></tbody><tfoot></tfoot></table>'));var oo=a.o.getBoundingClientRect();return Nod(a.id).style.left=oo.left+scrol("X")+"px",Nod(a.id).style.top=oo.bottom+scrol()+"px",xCal.fM=function(a){var t=a.month,e="",o=1,n=lang[a.lang].m;e+='<td colspan=2 title="12"',11==t?e+=' class="today"':11==a.tmonth&&(e+=' class="tday"'),e+=">"+lang[a.lang].m[11]+"</td>";for(var l=0;l<n.length-1;l++)o++,e+='<td colspan=2 title="'+(l+1)+'"',t==l?e+=' class="today"':a.tmonth==l&&(e+=' class="tday"'),e+=">"+n[l]+"</td>",o>2&&(e+="</tr><tr>",o=0);Del(document.querySelector("#"+a.id+" tbody")),HTM(a.id,'<tbody><tr><th rowspan=4 valign=bottom><a href="http://cssworld.ru/datepicker/" target="_blank">?</a></th>'+e+"</tr></tbody>");var d=document.querySelectorAll("#"+a.id+" tbody td");for(l=0;l<d.length;l++)d[l].onclick=function(){var t=this.title;""!=t&&(a.month=parseInt(t)-1,xCal.f(a))}},xCal.fY=function(a){for(var t=a.year,e="",o=0,n=-8;n<7;n++)o++,e+="<td colspan=2",t==t+n?e+=' class="today"':a.tyear==t+n&&(e+=' class="tday"'),e+=">"+(t+n)+"</td>",o>2&&(e+="</tr><tr>",o=0);Del(document.querySelector("#"+a.id+" tbody")),HTM(a.id,'<tbody><tr><th rowspan=5 valign=bottom><a href="http://cssworld.ru/datepicker/" target="_blank">?</a></th>'+e+"</tr></tbody>");var l=document.querySelectorAll("#"+a.id+" tbody td");for(n=0;n<l.length;n++)l[n].onclick=function(){var t=this.innerHTML;""!=t&&"&nbsp;"!=t&&(a.year=parseInt(t),xCal.f(a))}},xCal.f=function(a){Del(document.querySelector("#"+a.id+" thead")),Del(document.querySelector("#"+a.id+" tbody")),Del(document.querySelector("#"+a.id+" tfoot"));var mm,y=a.year,m=a.month,dat=a.dat,Dlast=new Date(y,m+1,0).getDate(),DNlast=new Date(y,m,Dlast).getDay(),DNfirst=new Date(y,m,1).getDay(),ca="",j=0,months=lang[a.lang].mo;j=0!=DNfirst?DNfirst-1:6,HTM(a.id,'<thead><tr><td class="cal-l" title="'+lang[a.lang].pre+'">‹</td><td colspan=3 class="cal-m"></td><td colspan=2 class="cal-y"></td><td class="cal-r" title="'+lang[a.lang].nex+'">›</td></tr><tr><td>'+lang[a.lang].w+"</td></tr></thead>"),j>0&&(mm=0==m?11:m-1,ca+=j>1?"<td colspan="+j+' class="cal-l" align=left title="'+lang[a.lang].pre+" "+lang[a.lang].mo[mm]+'"><b>‹ '+lang[a.lang].m[mm]+"</b></td>":'<td class="cal-l" title="'+lang[a.lang].pre+" "+lang[a.lang].mo[mm]+'"><b>‹</b></td>');for(var i=1;i<=Dlast;i++)j++,ca+="<td",i==dat?m==a.smonth&&y==a.syear?ca+=' class="today"':ca+=' class="tday"':i==a.tdat&&m==a.tmonth&&y==a.tyear&&(ca+=' class="tday"'),ca+=">"+i+"</td>",j>6&&(ca+="</tr><tr>",j=0);DNlast>0&&(mm=m>10?0:m+1,ca+=DNlast<6?"<td colspan="+(7-DNlast)+' class="cal-r" align=right title="'+lang[a.lang].nex+" "+lang[a.lang].mo[mm]+'"><b>'+lang[a.lang].m[mm]+" ›</b></td>":'<td class="cal-r" title="'+lang[a.lang].nex+" "+lang[a.lang].mo[mm]+'"><b>›</b></td>'),HTM(a.id,'<tbody><tr class="cal-first">'+ca+"</tr></tbody>"),ca="";var k,kk=[3,3,1];a.now||(kk[0]=0),a.set0||(kk[1]=0),a.x||(kk[2]=0),a.now&&(k=kk[0]+kk[1]+kk[2],k<7&&(kk[0]+=7-k),ca+="<td colspan="+kk[0]+' class="cal-nw"></td>'),a.set0&&(k=kk[0]+kk[1]+kk[2],k<7&&(kk[1]+=7-k),ca+="<td colspan="+kk[1]+' class="cal-s0">'+lang[a.lang].clear+"</td>"),a.x&&(k=kk[0]+kk[1]+kk[2],k<7&&(kk[2]+=7-k),ca+="<td colspan="+kk[2]+" onClick=\"document.getElementById('"+a.id+"').style.display='none'\" title=\""+lang[a.lang].x+'" class="bold">'+(kk[2]>2?lang[a.lang].x:"&#215;")+"</td>"),HTM(a.id,"<tfoot><tr>"+ca+"</tr></tfoot>"),document.querySelector("#"+a.id+" thead td.cal-m").innerHTML=months[m],document.querySelector("#"+a.id+" thead td.cal-y").innerHTML=y,document.querySelector("#"+a.id+" thead td.cal-l").onclick=function(){xCal.mmm(a)},document.querySelector("#"+a.id+" thead td.cal-r").onclick=function(){xCal.mpp(a)},document.querySelector("#"+a.id+" thead td.cal-m").onclick=function(){xCal.fM(a)},document.querySelector("#"+a.id+" thead td.cal-y").onclick=function(){xCal.fY(a)},k=document.querySelector("#"+a.id+" tfoot td.cal-nw"),k&&(k.innerHTML=xCal(2,a),k.onclick=function(){var dop="";if(a=xCal.gDop(a),""!=a.dop&&(dop=" "+a.dop),a.o&&(a.o.value=xCal.value=this.innerHTML+dop),1==a.hide)document.getElementById(a.id).style.display="none";else{for(var o=document.querySelectorAll("#"+a.id+" .today"),j=0;j<o.length;j++)o[j].className="";a=xCal.gDat(a);var D=new Date;a.year=D.getFullYear(),a.month=D.getMonth(),a.dat=D.getDate()}a.sdat=a.dat,a.smonth=a.month,a.syear=a.year,"function"==typeof a.fn?a.fn(this.innerHTML,a):"string"==typeof a.fn&&""!==a.fn&&eval(a.fn+"('"+this.innerHTML+"');"),1!=a.hide&&xCal.f(a)}),k=document.querySelector("#"+a.id+" tfoot td.cal-s0"),k&&(k.onclick=function(){var t="00"+a.delim+"00"+a.delim+"00";1==a.order?t="00"+t:t+="00",a.o&&(a.o.value=xCal.value=t),a.sdat=a.dat,a.smonth=a.month,a.syear=a.year,1==a.hide&&(document.getElementById(a.id).style.display="none")}),a.autoOff&&(Nod(a.id).onmouseleave=function(){xCal()});for(var k=document.querySelectorAll("#"+a.id+" tbody td"),i=0;i<k.length;i++)k[i].onclick=function(){var t=this.innerHTML;if(""!=t&&"&nbsp;"!=t){if(1!=a.hide){for(var e=document.querySelectorAll("#"+a.id+" .today"),o=0;o<e.length;o++)e[o].className="";this.className="today"}(a=xCal.gDop(a)).dat=t,"function"==typeof a.f&&a.f(a.id)}};var r=document.querySelector("#"+a.id+" tbody td.cal-l");null!=r&&(r.onclick=function(){xCal.mmm(a)}),r=document.querySelector("#"+a.id+" tbody td.cal-r"),null!=r&&(r.onclick=function(){xCal.mpp(a)})},xCal.f(a),!1},xCal.mmm=function(a){a.month-=1,a.month<0&&(a.month=11,a.year--),xCal.f(a)},xCal.mpp=function(a){a.month+=1,a.month>11&&(a.month=0,a.year++),xCal.f(a)},xCal.gDop=function(a){if(void 0===a.o&&(a.o={value:""}),void 0===a.o.value||""===a.o.value)return a;var t=a.o.value.split(" ");return iss(t[1])?a.dop=t[1]:a.dop="",a},xCal.gVal=function(a){if(void 0===a.o&&(a.o={value:""}),void 0===a.o.value||""===a.o.value)return a;var t=a.o.value.split(" ");iss(t[1])?a.dop=t[1]:a.dop="",t=t[0].split(a.delim);for(var e=0;e<3;e++)iss(t[e])||(t[e]=-1);return 2==a.order?(t[3]=t[1],t[1]=t[0],t[0]=t[3],t[1]=parseInt(t[1])-1):(1==a.order&&(t[3]=t[2],t[2]=t[0],t[0]=t[3]),t[1]=parseInt(t[1])-1),a.syear=a.year=parseInt(t[2]),a.smonth=a.month=t[1],a.sdat=a.dat=parseInt(t[0]),a},xCal.gDat=function(a){var t=new Date;return a.tyear=t.getFullYear(),a.tmonth=t.getMonth(),a.tdat=t.getDate(),a.tday=t.getDay(),a.month>-1&&(a.year<0&&(a.year=t.getFullYear()),a.dat>0?t.setFullYear(a.year,a.month,a.dat):t.setFullYear(a.year,a.month)),a.year=t.getFullYear(),a.month=t.getMonth(),a.dat=t.getDate(),a.day=t.getDay(),a.sdat=a.dat,a.smonth=a.month,a.syear=a.year,a},xCal.set=function(a){for(var t in a)def[t]=a[t]},xCal.all=function(a,t,e){var o;if(void 0!==a&&""!=a&&!((o=document.getElementsByClassName?document.getElementsByClassName(a):document.querySelectorAll("."+a)).length<1))for(var n=0;n<o.length;n++){var l=o[n];Eve(l,"input",(function(){xCal()})),Eve(l,"keyup",(function(){xCal()})),Eve(l,"click",(function(){xCal(this,t,e)})),"object"==typeof t?"autoOn"in t&&t.autoOn&&Eve(l,"mouseenter",(function(){xCal(this,t,e)})):def.autoOn&&Eve(l,"mouseenter",(function(){xCal(this,t,e)}))}}}();